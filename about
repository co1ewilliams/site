<?php
/*
Plugin Name: Fancy About Team
Description: Provides a shortcode [about-team] for a colorful About section with photo, name, role, and description.
Version: 1.0
Author: YourName
*/

function fancy_about_team_shortcode($atts) {
    // Default attributes
    $defaults = array(
        'bg_color'   => '#f5f5f5',
        'text_color' => '#333333',
        'name'       => 'Cole Williams',
        'role'       => 'Founder & SEO Strategist',
        'image'      => '', // URL to your headshot or team photo
        'heading'    => 'Meet the Team',
        'desc'       => 'We combine AI technology with SEO expertise to deliver exceptional results. Our mission is to help businesses stand out online by producing consistent, data-driven, and engaging content.',
    );

    // Merge user-defined atts with defaults
    $attributes = shortcode_atts($defaults, $atts);

    ob_start(); 
    ?>
    <section style="
        background-color: <?php echo esc_attr($attributes['bg_color']); ?>;
        color: <?php echo esc_attr($attributes['text_color']); ?>;
        padding: 50px 20px;
        margin: 20px auto;
        max-width: 1000px;
        border-radius: 8px;">
        
        <h2 style="font-size: 2rem; text-align:center; margin-bottom: 30px;">
            <?php echo esc_html($attributes['heading']); ?>
        </h2>
        
        <div style="display: flex; flex-wrap: wrap; gap: 30px; align-items: center; justify-content: center;">
            
            <!-- Image (if provided) -->
            <?php if (!empty($attributes['image'])) : ?>
            <div style="min-width: 250px; max-width: 300px;">
                <img src="<?php echo esc_url($attributes['image']); ?>" 
                     alt="Team Member" 
                     style="width: 100%; border-radius: 8px;">
            </div>
            <?php endif; ?>
            
            <!-- Text Content -->
            <div style="flex:1; min-width: 250px;">
                <h3 style="margin-top:0; font-size:1.8rem;"><?php echo esc_html($attributes['name']); ?></h3>
                <p style="margin-bottom: 10px; font-style: italic; color: #666;">
                    <?php echo esc_html($attributes['role']); ?>
                </p>
                <p style="line-height: 1.6;">
                    <?php echo wp_kses_post($attributes['desc']); ?>
                </p>
            </div>
        </div>
        
    </section>
    <?php
    return ob_get_clean();
}

add_shortcode('about-team', 'fancy_about_team_shortcode');
